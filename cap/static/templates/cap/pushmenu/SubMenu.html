<div class="levelHolderClass">
    <ul ng-class="{invisible: inactive}">
        <li ng-repeat="item in menu.items">
            <div class="nav-item" ui-sref-active-eq="active" ng-class="{'has-child': item.menu}">
                <a ui-sref="{{item.link}}" ng-click="onSubmenuClicked(item, $event)" class="flex-display">
                    <div ng-hide="item.menu" class="nav-icon">
                        <i class="" ng-class="item.icon ? item.icon: 'fa fa-square'"></i>
                    </div>
                    <div class="nav-title">
                        {{item.name}}
                    </div>
                </a>
            </div>
            <div ng-if="item.menu">
                <recursive><cap-submenu menu="item.menu" level="childrenLevel" visible="item.visible"></cap-submenu></recursive>
            </div>
        </li>
    </ul>

    <footer ng-show="level == 0 && !collapsed">
        Hit <code>?</code> for shortcuts
    </footer>
</div>